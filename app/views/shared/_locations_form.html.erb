<div class="admin-card">
  <%= form_with model: [:admin, @location], class: "admin-form" do |f| %>

    <div class="form-section">
      <h3>Basic information</h3>

      <div class="form-group">
        <%= f.label :name %>
        <%= f.text_field :name, class: "form-input", required: true %>
      </div>

      <div class="form-group">
        <%= f.label :description %>
        <%= f.text_area :description, rows: 4, class: "form-textarea" %>
      </div>
    </div>

    <div class="form-section">
      <h3>Location details</h3>

      <div class="form-grid">
        <div class="form-group">
          <%= f.label :city %>
          <%= f.text_field :city, class: "form-input", required: true %>
        </div>

        <div class="form-group">
          <%= f.label :location_type %>
          <%= f.text_field :location_type, class: "form-input", required: true %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :county_id, "County" %>
        <%= f.collection_select :county_id,
              County.order(:name),
              :id,
              :name,
              { prompt: "Select a county" },
              class: "form-input", required: true %>
      </div>
    </div>

    <div class="form-section">
      <h3>Availability</h3>

      <div class="form-group checkbox-group">
        <label class="checkbox-item">
          <%= f.check_box :available %>
          <span>Available for booking</span>
        </label>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :capacity, "Maximum capacity (people)" %>
      <%= f.number_field :capacity,
            min: 1,
            step: 1,
            class: "form-input" %>

      <p class="form-hint">
        Maximum number of people allowed on location.
      </p>
    </div>

    <div class="form-section">
      <h3>Pricing</h3>

      <div class="form-grid">
        <div class="form-group">
          <%= f.label :price_per_hour, "Price per hour (ALL)" %>
          <%= f.number_field :price_per_hour,
                min: 0,
                step: 1,
                class: "form-input", required: true %>
        </div>

        <div class="form-group">
          <%= f.label :price_per_day, "Price per day (ALL)" %>
          <%= f.number_field :price_per_day,
                min: 0,
                step: 1,
                class: "form-input", required: true %>
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3>Metadata</h3>

      <div class="form-group">
        <%= f.label :tags %>
        <div class="tags-grid">
          <% Location::TAGS.each_slice(5) do |group| %>
            <div class="tags-row">
              <% group.each do |tag| %>
                <label class="checkbox-item">
                  <%= check_box_tag "location[tags][]",
                        tag,
                        @location.tags.include?(tag) %>

                  <span><%= tag.titleize %></span>
                </label>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :amenities %>
        <%= f.text_field :amenities,
              value: @location.amenities&.join(", "),
              placeholder: "Parking, Electricity, Natural light",
              class: "form-input" %>
        <p class="form-hint">Comma separated</p>
      </div>
    </div>

    <div class="form-section">
      <h3>Images</h3>

      <div class="form-group">
        <%= f.label :cover_image %>
        <%= f.file_field :cover_image, class: "form-file" %>
      </div>

      <div class="form-group">
        <%= f.label :images, "Gallery images" %>
        <%= f.file_field :images, multiple: true, class: "form-file" %>
        <p class="form-hint">Uploading new images will replace the gallery</p>
      </div>
    </div>

    <div class="form-actions">
      <%= f.submit class: "admin-button primary" %>
      <%= link_to "Cancel", admin_locations_path, class: "admin-button" %>
    </div>

  <% end %>
</div>
